
  <!DOCTYPE html>
  <html>
    <head>
      <title>Header.tsx</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="..\..\..\assets\source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="..\..\..\assets\source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="..\..\..\index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">components\Header\Header.tsx</td><td class="">98.59%</td><td class="">80%</td><td class="">213</td><td class="">210</td><td class="">3</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">import { IoIosHeart } from &quot;react-icons/io&quot;;
import { IoBasketSharp } from &quot;react-icons/io5&quot;;
import Link from &quot;next/link&quot;;
import Login from &quot;./Login&quot;;
import { CartState } from &quot;../../context/Context&quot;;
import { useEffect, useState } from &quot;react&quot;;
import MobileMenu from &quot;./MobileMenu&quot;;
import fetcher from &quot;../../lib/fetcher&quot;;
import useSWR, { SWRResponse } from &quot;swr&quot;;
import { Category } from &quot;@/types/Category&quot;;
import { Product } from &quot;@/types/Product&quot;;

function useScrollDirection() {
  const [scrollDirection, setScrollDirection] = useState(&quot;&quot;);

  useEffect(() =&gt; {
    let lastScrollY = window.pageYOffset;
    // function to run on scroll
    const updateScrollDirection = () =&gt; {
      const scrollY = window.pageYOffset;
      const direction = scrollY &gt; lastScrollY ? &quot;down&quot; : &quot;up&quot;;
      if (direction !== scrollDirection) {
        setScrollDirection(direction);
      }
      lastScrollY = scrollY &gt; 0 ? scrollY : 0;
    };
    window.addEventListener(&quot;scroll&quot;, updateScrollDirection); // add event listener
    return () =&gt; {
      window.removeEventListener(&quot;scroll&quot;, updateScrollDirection); // clean up
    };
  }, [scrollDirection]); // run when scroll direction changes

  return scrollDirection;
}

export const Header = (): JSX.Element =&gt; {
  const scrollDirection = useScrollDirection();
  const { cart }: { cart: Product[] } = CartState();
  const [navigation, setNavigation] = useState&lt;Category[]&gt;();
  const { data }: SWRResponse = useSWR(&quot;/api/fetchcategories&quot;, fetcher);

  const slugify = (string: string): string =&gt; {
    return string
      .toString()
      .toLowerCase()
      .replace(/\s+/g, &quot;-&quot;)
      .replace(/[^\w-]+/g, &quot;&quot;)
      .replace(/--+/g, &quot;-&quot;)
      .replace(/^-+/, &quot;&quot;)
      .replace(/-+$/, &quot;&quot;);
  };

  const [mounted, setMounted] = useState(false);
  useEffect(() =&gt; setMounted(true), []);

  useEffect(() =&gt; {
    if (data?.length &gt; 0) {
      setNavigation(data);
    }
  }, [data]);

  return (
    &lt;&gt;
      mounted &amp;&amp; (
      &lt;div
        className={`h-max sticky z-50 ${
          scrollDirection === &quot;down&quot;
            ? &quot;transition-all duration-700 -top-24&quot;
            : &quot;transition-all duration-700 top-0&quot;
        }`}
      &gt;
        &lt;div className=&quot;flex flex-col&quot;&gt;
          &lt;div className=&quot;bg-paper-bg bg-cover h-11 drop-shadow-[0_-7px_5px_rgba(0,0,0,0.31)] bg-opacity-10&quot;&gt;
            &lt;div className=&quot;flex justify-around items-center md:justify-between lg:mx-36&quot;&gt;
              &lt;Link href=&quot;/&quot;&gt;
                &lt;div className=&quot;ml-2 sm:ml-10 text-[21px] text-header-brown font-gothic py-2 lg:py-0 lg:text-[34px] cursor-pointer flex whitespace-nowrap&quot;&gt;
                  the cheek co.
                &lt;/div&gt;
              &lt;/Link&gt;
              &lt;Link href=&quot;/cart&quot;&gt;
                &lt;div className=&quot;ml-10 mb-3 cursor-pointer sm:block relative sm:absolute top-3 right-3 lg:right-20 md:rounded-full md:bg-white md:border-text-secondary md:bg-opacity-100 md:z-[100] md:shadow-text-primary md:shadow-md md:w-[65px] md:h-[65px]&quot;&gt;
                  &lt;IoBasketSharp
                    className={
                      cart.length &gt; 0
                        ? `h-6 w-6 sm:h-12 sm:w-12 text-shopping-cart opacity-100 m-2`
                        : `h-8 w-8 sm:h-12 sm:w-12 text-shopping-cart opacity-100 -translate-y-2 sm:translate-y-0 m-2`
                    }
                  /&gt;
                  {cart.length &gt; 0 &amp;&amp; (
                    &lt;div className=&quot;absolute -top-1 -left-1 bg-shopping-cart-badge w-5 h-5 rounded-full justify-center items-center flex text-white&quot;&gt;
                      {cart.length}
                    &lt;/div&gt;
                  )}
                &lt;/div&gt;
              &lt;/Link&gt;
              &lt;div className=&quot;flex items-center justify-between font-gothic text-header-brown&quot;&gt;
                {/* Mobile Menu */}
                &lt;div className=&quot;pl-10&quot;&gt;
                  &lt;div className=&quot;sm:hidden p-1.5 active:bg-black rounded-md active:bg-opacity-10&quot;&gt;
                    {navigation &amp;&amp; &lt;MobileMenu {...navigation} /&gt;}
                  &lt;/div&gt;
                &lt;/div&gt;
                &lt;div className=&quot;flex items-center justify-center sm:space-x-8 whitespace-nowrap&quot;&gt;
                  {/* Eco Innovation */}
                  &lt;span className=&quot;hidden sm:block font-medium font-gothic&quot;&gt;
                    Eco Innovation
                  &lt;/span&gt;
                  {/* Wishlist */}
                  &lt;div className=&quot;relative h-5&quot;&gt;
                    &lt;div className=&quot;hidden md:block h-full w-full&quot;&gt;
                      &lt;div className=&quot;absolute top-0 w-full h-full space-x-1 justify-center items-center &quot;&gt;
                        &lt;div className=&quot;mx-auto&quot;&gt;
                          &lt;Link href={&quot;/wishlist&quot;}&gt;
                            &lt;div className=&quot;group cursor-pointer&quot;&gt;
                              &lt;div className=&quot;flex flex-col items-center group-hover:-translate-y-1&quot;&gt;
                                &lt;IoIosHeart className=&quot;w-5 h-5 group-hover:w-4 group-hover:h-4 group-hover:animate-pulse group-hover:ease-in-out&quot; /&gt;
                                &lt;span className=&quot;text-xs hidden translate-y-6 group-hover:block group-hover:transform group-hover:-translate-y-0 group-hover:transition group-hover:duration-1000 group-hover:ease-in-out&quot;&gt;
                                  Wishlist
                                &lt;/span&gt;
                              &lt;/div&gt;
                            &lt;/div&gt;
                          &lt;/Link&gt;
                        &lt;/div&gt;
                      &lt;/div&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;
                  {/* Login */}
                  &lt;div className=&quot;sm:pl-0 sm:pr-24 lg:pr-10&quot;&gt;
                    &lt;Login /&gt;
                  &lt;/div&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
          &lt;div className=&quot;bg-header-brown text-header-text text-[10px] font-gothic bg-opacity-90 h-5 sm:h-auto&quot;&gt;
            &lt;ul className=&quot;hidden sm:flex justify-center pl-3 sm:space-x-6&quot;&gt;
              {navigation &amp;&amp;
                navigation?.length &gt; 0 &amp;&amp;
                navigation
                  .sort((a, b) =&gt; (a.id &gt; b.id ? 1 : -1))
                  .filter((item) =&gt; item.category_data.name.charAt(0) != &quot;_&quot;)
                  .map((nav, i) =&gt; {
                    return (
                      &lt;Link
                        key={nav.id}
                        href=&quot;/shop/[id]/&quot;
                        as={`/shop/${slugify(nav.category_data.name)}`}
                      &gt;
                        &lt;li
                          key={i}
                          className=&quot;px-1.5 py-1 hover:transform hover:transition-all hover:scale-125 cursor-pointer h-full&quot;
                        &gt;
                          &lt;span className=&quot;font-gothic font-normal text-xs capitalize&quot;&gt;
                            {nav.category_data.name}
                          &lt;/span&gt;
                        &lt;/li&gt;
                      &lt;/Link&gt;
                    );
                  })}
            &lt;/ul&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      )
    &lt;/&gt;
  );
};

export default Header;
</textarea><pre id="annotations" style="display:none">[{&quot;file&quot;:&quot;components\\Header\\Header.tsx&quot;,&quot;line&quot;:39,&quot;character&quot;:10,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;components\\Header\\Header.tsx&quot;,&quot;line&quot;:56,&quot;character&quot;:8,&quot;text&quot;:&quot;data&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;components\\Header\\Header.tsx&quot;,&quot;line&quot;:56,&quot;character&quot;:14,&quot;text&quot;:&quot;length&quot;,&quot;kind&quot;:1}]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Wed, 08 Jun 2022 01:29:43 GMT</p>
    </body>
  </html>
  